var _date={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],time:["today","tomorrow","yesterday"]};const http={radio:["https://uk2.streamingpulse.com/ssl/vcr1","http://retroserver.streamr.ru:8043/retro256.mp3","https://ep128.hostingradio.ru:8030/ep128"]};var LOCAL={blocks:{LB:document.getElementById("left-block"),CB:document.getElementById("center-block"),RB:document.getElementById("right-side-block")},search:{input:document.getElementById("search-input"),ul:document.getElementById("search-results"),cleaner:document.getElementById("search-cleaner")},shortcuts:{btn:{add:document.getElementById("shortcut-link-add"),save:document.getElementById("shortcut-link-save"),remove:document.getElementById("shortcut-link-remove")},sPage:document.getElementById("shortcuts-page"),styles:["Compact","Large"],block:document.getElementById("shortcuts"),inputs:{title:document.getElementById("link-title"),position:document.getElementById("link-position"),url:document.getElementById("link-url")}},history:{block:document.getElementById("historyList"),btn:{list:document.querySelectorAll(".history-request-btns"),history:document.getElementById("get-history"),youtube:document.getElementById("get-history-youtube"),recently:document.getElementById("get-history-recently"),cineb:document.getElementById("get-history-cineb")}},radio:{nowPlay:"",volume:document.getElementById("radio-volume"),station:{VCR:http.radio[0],RF:http.radio[1],E:http.radio[2]},audio:new Audio,status:0,label:document.querySelectorAll(".radio-switch"),block:document.getElementById("radio")},scroll:!1,settings:{radio:document.querySelector("#view-satus li[switch=radio]")}};const messageText={historyBlock:{recentlyClosed:"Recently Closed",history:"History",request:"History on"}},history={block:document.getElementById("history"),ul:document.getElementById("historyList"),mouse:document.getElementById("historyvsb"),btn:{all:document.getElementById("get-all-history"),youtube:document.getElementById("get-youtube-history"),tabs:document.getElementById("get-last-tabs"),cineb:document.getElementById("get-cineb-history"),selected:document.getElementById("history-selected")}},news={block:document.getElementById("news-blocks"),main:document.getElementById("news"),mouse:!1,topics:document.querySelectorAll(".news-topics"),newsId:0};var inputs={title:document.getElementById("link-title"),position:document.getElementById("link-position"),url:document.getElementById("link-url")},overlay={body:document.getElementById("overlay"),closebtn:document.getElementById("overlay-close")},view={shortcuts:{status:document.getElementById("view-shortcuts-status")},bookmarks:{status:document.getElementById("view-bookmarks-status")},history:{status:document.getElementById("view-history-status")}},switchDisplay=document.getElementById("switch"),content=document.getElementById("center-block"),bookmarks={parent:document.getElementById("folderBg"),sortBtn:document.getElementById("bookmarks-sort")},radio={stationSrc:[],songArtist:document.getElementById("artist"),songTitle:document.getElementById("title"),info:document.getElementById("radio-info"),stationId:0,play:0},settings={status:0,btn:document.getElementById("settings-btn"),menu:document.getElementById("settings"),ul:{bookmarks:document.querySelector("#view-satus li[switch=bookmarks]"),theme:document.querySelector("#view-satus li[switch=theme]"),search:document.querySelector("#view-satus li[switch=search]"),style:document.querySelector("#view-satus li[switch=style]"),a:document.querySelector("a")}},scrollStatus=0,shortcutList=JSON.parse(localStorage.getItem("shortcuts")),lStorage={settings:JSON.parse(localStorage.getItem("settings"))};function searchEngine(t){var e=[["q","https://www.google.com/search","Google"],["text","https://yandex.by/search/","Yandex"],["p","https://search.yahoo.com/search","Yahoo"],["q","https://www.bing.com/search","Bing"],["q","https://duckduckgo.com/","DuckDuckGo"]],s=(lStorage.settings.searchEngine+1)%e.length;1==t&&(lStorage.settings.searchEngine=s,localStorage.setItem("settings",JSON.stringify(lStorage.settings))),s=lStorage.settings.searchEngine,LOCAL.search.input.attributes.name.value=e[s][0],LOCAL.blocks.CB.querySelector("form").action=e[s][1],LOCAL.search.input.attributes.placeholder.value="Search from "+e[s][2],settings.ul.search.querySelector("span").innerText=e[s][2]}function viewTheme(t){var e=lStorage.settings.view.theme,s=(settings.ul.theme.querySelector("span").innerText=e,settings.ul.theme.querySelector("span").style.textTransform="capitalize",e);document.documentElement.setAttribute("theme",e),1==t&&(lStorage.settings.view.theme=s="light"===s?"dark":"light",localStorage.setItem("settings",JSON.stringify(lStorage.settings)),viewTheme())}function radioVisability(){var t=LOCAL.settings.radio.querySelector("span");let e=lStorage.settings.radio.visability;return e=0==e?(LOCAL.radio.block.style.display="none",t.innerText="Hiden",1):(LOCAL.radio.block.style.display="grid",t.innerText="Visible",0)}function shortcut_new_action(){document.getElementById("shortcut-link-create").onclick=function(){linkInputsClear(),LOCAL.shortcuts.inputs.position.setAttribute("readonly",!0),LOCAL.shortcuts.btn.add.style.display="flex",LOCAL.shortcuts.btn.save.style.display="none",LOCAL.shortcuts.btn.remove.style.display="none",overlayStatus(1)}}for(null==lStorage.settings&&firstRun(),shortcuts("display"),LOCAL.radio.volume.value=100*lStorage.settings.radio.volume,searchEngine(),getTopSites(),displayBokkmarks(),viewTheme(lStorage.settings.view.theme),settings.ul.style.onclick=function(){let t;t=1==lStorage.settings.view.style?0:1,lStorage.settings.view.style=t,localStorage.setItem("settings",JSON.stringify(lStorage.settings)),LOCAL.shortcuts.block.innerText="",shortcuts("display")},settings.ul.search.onclick=function(){searchEngine(1)},radioVisability(),LOCAL.settings.radio.onclick=function(){lStorage.settings.radio.visability=radioVisability(),localStorage.setItem("settings",JSON.stringify(lStorage.settings)),radioVisability()},document.getElementById("link-changelog").href+="?b"+GLOBAL.version,settings.btn.onclick=function(){return 0==settings.status?(settings.btn.style.transform="rotate(45deg)",settings.menu.style.display="flex",settings.status=1):(settings.btn.style.transform="rotate(0deg)",settings.menu.style.display="none",settings.status=0)},settings.ul.theme.onclick=function(){settings.ul.theme.querySelector("span");lStorage.settings.view.theme;viewTheme(1)},settings.ul.bookmarks.onclick=function(){0==JSON.parse(localStorage.getItem("settings")).view.bookmarks?(document.querySelector(".folders").innerText="",lStorage.settings.view.bookmarks=1):(document.querySelector(".folders").innerText="",lStorage.settings.view.bookmarks=0),localStorage.setItem("settings",JSON.stringify(lStorage.settings)),displayBokkmarks()},LOCAL.shortcuts.btn.remove.onclick=function(){shortcuts("remove")},LOCAL.shortcuts.btn.save.onclick=function(){shortcuts("edit")},overlay.closebtn.onclick=function(){overlayStatus(0)},LOCAL.radio.volume.oninput=function(){var t=JSON.parse(localStorage.getItem("settings")),e=.01*LOCAL.radio.volume.value;LOCAL.radio.audio.volume=e,t.radio.volume=e,localStorage.setItem("settings",JSON.stringify(t))},i=0;i<LOCAL.radio.label.length;i++)LOCAL.radio.label[i].addEventListener("click",function(t){var e=.01*LOCAL.radio.volume.value,s=document.querySelector("#radio input:checked").id.slice(13),o=t.target.htmlFor.slice(13);return console.log(s,o),$("#radio label").removeClass("news-topics-active"),LOCAL.radio.audio.src="",s==o&&1==LOCAL.radio.status?(LOCAL.radio.audio.pause(),LOCAL.radio.status=0,LOCAL.radio.nowPlay=""):(LOCAL.radio.audio.volume=.01*LOCAL.radio.volume.value,t.target.classList.add("news-topics-active"),LOCAL.radio.audio.src=LOCAL.radio.station[o],LOCAL.radio.audio.play(),LOCAL.radio.audio.src.volume=e,LOCAL.radio.status=1,LOCAL.radio.nowPlay=o)});function GetRecentlyTabs(){chrome.sessions.getRecentlyClosed(function(t){LOCAL.history.block.innerText="";var e=[];for(o in t)if(null!=t[o].tab){var s=t[o].tab;"chrome"!=s.url.split(":")[0]&&e.push({url:s.url,title:s.title})}else{var o,i=t[o].window.tabs;for(o in i)"chrome"!=i[o].url.split(":")[0]&&e.push({url:i[o].url,title:i[o].title})}for(o in e=e.slice(0,16)){var n=e[o].title.replace(/</g,"&lt;").replace(/>/g,"&gt;");$(`<a href="${e[o].url}"><li style="animation: fadeIn-bloks 0.3s forwards; animation-delay: ${.01*o}s;"><span class="date">x</span><img src="https://www.google.com/s2/favicons?sz=64&domain=${e[o].url}"><span class="title">${n}</span></li></a>`).appendTo(history.ul)}})}function hideAll(t){var e;if(1==t)return t=".5s",LOCAL.blocks.CB.style.transform=e="translateY(-80px)",LOCAL.blocks.RB.style.transform=e,LOCAL.blocks.LB.style.transform=e,LOCAL.blocks.CB.style.transition=t,LOCAL.blocks.RB.style.transition=t,LOCAL.blocks.LB.style.transition=t,LOCAL.blocks.CB.style.opacity=0,LOCAL.blocks.RB.style.opacity=0,LOCAL.blocks.LB.style.opacity=0,bookmarks.parent.style.top="",settings.btn.style.transform="rotate(0deg)",settings.menu.style.display="none",LOCAL.search.ul.innerText="",LOCAL.search.cleaner.style.display="",settings.status=0;setTimeout(function(){LOCAL.blocks.CB.style.transition="",LOCAL.blocks.RB.style.transition="",LOCAL.blocks.LB.style.transition=""},500),LOCAL.blocks.CB.style.transform="",LOCAL.blocks.RB.style.transform="",LOCAL.blocks.LB.style.transform="",LOCAL.blocks.CB.style.opacity="",LOCAL.blocks.RB.style.opacity="",LOCAL.blocks.LB.style.opacity=""}function detectWeatherImg(t){var e={"clear sky":"bi-brightness-high","overcast clouds":"bi-clouds","broken clouds":"bi-cloud-sun","few clouds":"bi-cloud-sun","scattered clouds":"bi-cloud-sun","light rain":"bi-cloud-rain"}[t];return null==e&&(e="bi-exclamation-octagon",console.log(t)),e}function unixToDate(t,e){var t=(e=1==e?new Date(t):new Date(1e3*t)).getHours(),s=e.getMinutes(),e=(t<10&&(t="0"+t),s<10&&(s="0"+s),{year:e.getFullYear(),month:_date.months[e.getMonth()],date:e.getDate(),hour:t,min:s,day:"Today",dayName:""});return now=new Date,e.date==now.getDate()+1&&(e.day="Tomorrow"),e}function overlayStatus(t){return 1==t?(hideAll(1),LOCAL.scroll=!0,overlay.body.style.display="flex",0):(hideAll(0),LOCAL.scroll=!1,overlay.body.style.display="none",1)}function linkInputsClear(){inputs.title.value="",inputs.position.value="",inputs.url.value=""}function url_name(t){var e=t.split(".");if(3===e.length){switch(title=e[1]){case"twitch":title=22<t.length?e[2].slice(3):e[1];break;case"google":title=e[0].split("/")[2]}return title}if(2===e.length)return e=t.split("/"),title=(title=e[2]).split(".")[0]}function shortcuts_action(){$("#shortcuts a").mousedown(function(t){for(var e=document.getElementById("shortcuts");i<e.querySelectorAll("a").length;)e.querySelectorAll("a")[i].setAttribute("index",i),i++;var s=JSON.parse(localStorage.getItem("shortcuts"))||[],o=$(this).attr("index");3==t.which&&(console.log(o),console.log(s[o]),LOCAL.shortcuts.inputs.position.removeAttribute("readonly"),LOCAL.shortcuts.inputs,LOCAL.shortcuts.btn.save.setAttribute("index",o),LOCAL.shortcuts.btn.remove.setAttribute("index",o),LOCAL.shortcuts.btn.save.style.display="flex",LOCAL.shortcuts.btn.remove.style.display="flex",LOCAL.shortcuts.btn.add.style.display="none",overlayStatus(1),inputs.title.value=s[o].title,inputs.url.value=s[o].url,inputs.position.value=s[o].position)})}function getTopSites(){chrome.topSites.get(function(t){var s,o=[];let i='<span id="get-my-notes" class="history-request-btns">notes</span><span id="get-history" class="history-request-btns history-request-btns history-request-btn-active">History</span><span id="get-history-recently" class="history-request-btns">Recently</span>';for(e in t){var n=url_name(t[e].url);o[n]||(o[n]=[]),o[n].push(n.slice(0,1).toUpperCase()+n.slice(1))}for(s in o)i+=`<span id="get-history-${o[s]}" class="history-request-btns">${o[s]}</span>`;$(i).appendTo(".request-btn"),$(".history-request-btns").on("click",function(){this.id.split("-")[2];$(".history-request-btns").removeClass("history-request-btn-active"),getSiteHistory(this)}),getSiteHistory("","get-my-notes")})}function myNotes(){var t=JSON.parse(localStorage.getItem("notes"))||"That area is editable! Type something. :)";LOCAL.history.block.innerText="",LOCAL.history.block.innerHTML=`<div id="my-notes" contenteditable=true>${t}</div>`;let e=document.getElementById("my-notes");e.onpaste=function(t){t.preventDefault();t=t.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)},$("#my-notes").mousemove(function(){LOCAL.scroll=!0}),$("#my-notes").mouseleave(function(){LOCAL.scroll=!1}),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&(e.innerHTML=JSON.parse(localStorage.getItem("notes")))}),e.oninput=function(){var t=this.innerHTML;console.log(t),localStorage.setItem("notes",JSON.stringify(t))}}function getSiteHistory(t,e){$(".history-request-btns").removeClass("history-request-btn-active");let s;switch((null!=e?(s=e.split("-")[2],document.getElementById(e)):(s=t.id.split("-")[2],t)).classList.add("history-request-btn-active"),s){case"recently":GetRecentlyTabs();break;case"notes":myNotes();break;default:getHistory(s)}}function searchOnNewTab(l){LOCAL.search.ul.style.top=LOCAL.search.input.offsetTop+60+"px",LOCAL.search.ul.style.width=LOCAL.search.input.offsetWidth+"px",LOCAL.search.cleaner.style.top=LOCAL.search.input.offsetTop+13+"px",LOCAL.search.cleaner.style.left=LOCAL.search.input.offsetWidth-40+"px",LOCAL.search.cleaner.style.display="block",chrome.history.search({text:"",maxResults:5e3,startTime:0},function(t){t=t.filter(t=>t.title.toLowerCase().includes(l.toLowerCase())||t.url.toLowerCase().includes(l.toLowerCase()));let o=[];t.reduce((t,e)=>{var s;return t[e.title]||(s={title:e.title,url:e.url,img:__FaviconURL("",64,e.url),time:""},o.push(s),t[e.title]=[]),t},{});let e=[];for(var s in o=o.slice(0,18),""==l&&(o="",LOCAL.search.cleaner.style.display=""),o){var i=o[s].url.split("/")[2],n=o[s].title.replace(/</g,"&lt;").replace(/>/g,"&gt;");e+=`<a href="${o[s].url}"><li style="opacity: 1"><img src="${o[s].img}"><span class="title">${n} <span class="domain">${i}</span></span><span>${o[s].time}</span></li></a>`}LOCAL.search.ul.innerHTML=e})}function getHistory(t){requestText=null==t?(t="",messageText.historyBlock.history):messageText.historyBlock.request+" "+t.split(".")[0];chrome.history.search({text:t,startTime:52596e5},function(t){for(var e in LOCAL.history.block.innerText="",t=t.slice(0,18)){var s=t[e].title.replace(/</g,"&lt;").replace(/>/g,"&gt;"),o=t[e].url,i=t[e].lastVisitTime,n=t[e].visitCount,i=unixToDate(i,1),l=(""==s&&(s=o),o.split("/")[2]),r=__FaviconURL("",64,o),i=i.hour+" : "+i.min;$(`<a href="${o}" title="Посещений: ${n}"><li style="animation: fadeIn-bloks 0.3s forwards; animation-delay: ${.01*e}s;"><img src="${r}"><span class="title">${s} <span class="domain">${l}</span></span><span class="date">${i}</span></li></a>`).appendTo(LOCAL.history.block)}})}function displayBokkmarks(){var p=JSON.parse(localStorage.getItem("settings")).view.bookmarks;chrome.bookmarks.getTree(function(t){var e=t[0].children[0].children,s=$(".folders"),o=[];if(1==p){for(var i in view.bookmarks.status.innerText="A-Z",e)if(null!=(y=e[i].children))for(var n in y){var l={title:(n=y[n]).title,url:n.url};o.push(l)}else{l={title:(n=e[i]).title,url:n.url};o.push(l)}o.sort(function(t,e){return t.title.localeCompare(e.title)});var r,a={};for(n of o){var c=n.title.charAt(0).toUpperCase();a[c]||(a[c]=[]),a[c].push(n)}for(r in a){var u="";for(n of a[r]){var d=[n.title,""],g=n.url;10<d[0].length?d[1]=d[0].slice(0,10)+"...":d[1]=d[0],u+=`<a title="${d[0]}" href="${g}"><img src="chrome-extension://${GLOBAL.id}/_favicon/?size=24&showFallbackMonogram=&pageUrl=${g}"><span>${d[1]}</span></a>`}$(`<div class="folder"><div class="folder-title">${r}</div><div class="folder-links">${u}</div></div>`).appendTo(".folders")}}if(0==p){view.bookmarks.status.innerText="Folders";var y,m="";for(i in e)if(null!=(y=e[i].children)){var o="",h=e[i].title;for(n in y)g=(n=y[n]).url,o=(10<(d=[n.title,""])[0].length?d[1]=d[0].slice(0,10)+"...":d[1]=d[0],o+`<a title="${d[0]}" href="${g}"><img src=chrome-extension://${GLOBAL.id}/_favicon/?size=24&showFallbackMonogram=&pageUrl=${g}><span>${d[1]}</span></a>`);$(`<div class="folder"><div class="folder-title">${h}</div><div class="folder-links">${o}</div></div>`).appendTo(s)}else g=(n=e[i]).url,m=(10<(d=[n.title,""])[0].length?d[1]=d[0].slice(0,10)+"...":d[1]=d[0],m+`<a title="${d[0]}" href="${g}"><img src=chrome-extension://${GLOBAL.id}/_favicon/?size=24&showFallbackMonogram=&pageUrl=${g}><span>${d[1]}</span></a>`);$(`<div class="folder"><div class="folder-title">All</div><div class="folder-links">${m}</div></div>`).prependTo(".folders")}})}function restore(){var t,e=JSON.parse(localStorage.getItem("shortcuts")),s=[];for(t in e){var o={id:parseInt(t),title:e[t].title,url:e[t].url,position:parseInt(t)};s.push(o)}localStorage.setItem("shortcuts",JSON.stringify(s))}function siteIcon(o,i){let n=o.split("/")[2],l=LOCAL.shortcuts.block.children;chrome.storage.local.get(function(t){var e,s=l[i].querySelector("img"),t=t.sitesData||[];-1!==(t[0]?t[0].indexOf(n):-1)?(e=t[0].indexOf(n),s.src=t[1][e].icon):s.src=__FaviconURL(1,256,o)})}function shortcuts(t){var s=JSON.parse(localStorage.getItem("shortcuts"))||[],o=LOCAL.shortcuts.block;switch(t){case"display":let e=[];var i,n=lStorage.settings.view.style,l=s,r=parseInt(l.length)+1,a=Math.ceil(r/36),c=parseInt(LOCAL.shortcuts.sPage.attributes.page.value),u=36*c;if(LOCAL.shortcuts.sPage.style.display="none",1==n){if(36<r){let t="";for(var d=0;d<a;d++)t+=`<div class="page" page="${d}">${d+1}</div>`;LOCAL.shortcuts.sPage.innerHTML=t,LOCAL.shortcuts.sPage.style.display="flex";l=s.sort((t,e)=>t.position-e.position);LOCAL.shortcuts.sPage.children[c].classList.add("active"),l=l.slice(u,36*(c+1)),$(".page").click(function(t){LOCAL.shortcuts.sPage.attributes.page.value=this.attributes.page.value,console.log(LOCAL.shortcuts.sPage.attributes.page.value),LOCAL.shortcuts.block.innerText="",shortcuts("display")})}}else l=s.sort((t,e)=>t.position-e.position);for(i in l){var g=l[i].url;let t=l[i].title;var y=l[i].id;siteIcon(g,i),""==t&&(t=url_name(g)),e+=1==n?`<a index=${y} position=${i} href=${g}><div class="shortcut"><img><div class="shortcut-title-block">${t}</div></div></a>`:`<a index=${y} position=${i} href=${g}><img width=20px height=20px><span>${t}</span></a>`}if(1==n){let t="display: ";a-1!=c&&36==l.length?t+="none;":t+="flex;",LOCAL.shortcuts.block.classList="",LOCAL.shortcuts.block.classList.add("shortcuts-grid-large"),e+=`<div style="${t}"  class="shortcut" id="shortcut-link-create"><i class="bi bi-plus-circle"></i><div class="shortcut-title-block">Create</div></div>`}else LOCAL.shortcuts.block.classList="",LOCAL.shortcuts.block.classList.add("shortcuts-grid-small"),e+='<div id="shortcut-link-create">+</div>';settings.ul.style.querySelector("span").innerText=LOCAL.shortcuts.styles[n],$(e).prependTo(o),shortcut_new_action(),shortcuts_action();break;case"create":var m=inputs.title.value;null!=(L=inputs.url.value.trim())&&""!=L&&(-1==L.indexOf("http")&&-1==L.indexOf("https")&&(L="http://"+L),r={id:parseInt(s.length),title:m,url:L,position:parseInt(s.length)},""==m&&(m=url_name(L)),s.push(r),localStorage.setItem("shortcuts",JSON.stringify(s)),o.innerText="",shortcuts("display"));break;case"remove":var h,p=LOCAL.shortcuts.btn.save.attributes.index.value;document.querySelector(`#shortcut [index="${p}"]`);for(h in 0<=p&&p<s.length&&(s.splice(p,1),localStorage.setItem("shortcuts",JSON.stringify(s))),l=s.sort((t,e)=>t.position-e.position))console.log(l[h]),l[h].id=parseInt(h);localStorage.setItem("shortcuts",JSON.stringify(l)),o.innerText="",shortcuts("display"),shortcuts_action();break;case"edit":var L,v,p=LOCAL.shortcuts.btn.save.attributes.index.value,m=inputs.title.value;for(v in null!=(L=inputs.url.value.trim())&&""!=L&&(s[p].title=m,s[p].url=L),localStorage.setItem("shortcuts",JSON.stringify(s)),l=s.sort((t,e)=>t.position-e.position))console.log(l[v]),l[v].id=parseInt(v);o.innerText="",shortcuts("display"),shortcuts_action();break;default:alert("shortcut(): Error!")}overlayStatus(0),linkInputsClear()}function firstRun(){return localStorage.setItem("settings",JSON.stringify(settingsCookie)),localStorage.setItem("news-cache",JSON.stringify("")),lStorage.settings=settingsCookie}function switchHistory(t){var e=JSON.parse(localStorage.getItem("settings")).view.history;view.history.status;switch(e){case 0:lStorage.settings.view.history=1;break;case 1:lStorage.settings.view.history=0}console.log(lStorage.settings.view.history),localStorage.setItem("settings",JSON.stringify(lStorage.settings))}LOCAL.shortcuts.btn.add.onclick=function(){shortcuts("create")},$(".request-btn").mousemove(function(){LOCAL.scroll=!0}),$(".request-btn").mouseleave(function(){LOCAL.scroll=!1}),LOCAL.history.btn.list.forEach(t=>{t.onclick=function(){getSiteHistory(t)}}),LOCAL.search.input.oninput=function(){searchOnNewTab(LOCAL.search.input.value)},LOCAL.search.cleaner.onclick=function(){LOCAL.search.ul.innerText="",LOCAL.search.input.value="",LOCAL.search.cleaner.style.display=""},addEventListener("resize",t=>{var e=document.body.clientWidth;document.documentElement.style.setProperty("--width",e)}),window.onscroll=function(){window.scrollTo(0,0)},$(".request-btn")[0].addEventListener("wheel",function(t){t.deltaY<0?$(".request-btn")[0].scrollLeft-=50:0<t.deltaY&&($(".request-btn")[0].scrollLeft+=50)}),window.addEventListener("wheel",function(t){var e=document.getElementsByClassName("folders")[0].scrollTop;if(0==LOCAL.scroll)if(t.deltaY<0){if(0==e&&(setTimeout(function(){if(0==e)return scrollStatus=1},300),1==scrollStatus))return hideAll(0),bookmarks.parent.style.top="",scrollStatus=0}else 0<t.deltaY&&(scrollStatus=0,hideAll(1),bookmarks.parent.style.top="0%")}),$(document).keyup(function(t){if("Escape"===t.key)return hideAll(1),overlayStatus(0),scrollStatus=0,settings.status=0}),window.oncontextmenu=function(){return!1};